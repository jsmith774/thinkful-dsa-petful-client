(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{11:function(e,t,n){},22:function(e,t,n){e.exports=n(32)},32:function(e,t,n){"use strict";n.r(t);n(11);var a=n(0),r=n.n(a),o=n(19),s=n.n(o),c=n(4),i=n(5),l=n(7),u=n(6),p=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"Petful"))}}]),n}(a.Component),h=n(12),m=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"landing"},r.a.createElement("section",null,'The adoption process works strictly on a "First-In, First-Out" basis. The FIFO is based on the animals that came to the shelter first. People can adopt a cat, or a dog, or both, but they may only adopt the animal that came to the shelter first. In addition, people who want to adopt are also put in a Queue so they can adopt when it\'s their turn.'),r.a.createElement("img",{className:"petImage",src:"http://placekitten.com/300/300",alt:"Landing Cat"}),r.a.createElement("br",null),r.a.createElement(h.b,{to:"adoption"},r.a.createElement("button",{type:"submit"},"Start!")))}}]),n}(a.Component),d=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"renderAdoptButton",value:function(){var e=this.props.canAdopt,t=this.props.adoptionHandler;return"true"===e?r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:function(){return t()}},"Adopt Me!"),r.a.createElement("button",{type:"submit",onClick:function(){return t("both")}},"Adopt Both!")):""}},{key:"render",value:function(){var e=this.props.details,t=e.age,n=e.breed,a=e.description,o=e.gender,s=e.imageURL,c=e.name,i=e.story;return r.a.createElement("article",{className:"pet"},r.a.createElement("div",{className:"petImage"},r.a.createElement("img",{className:"petImage",src:s,alt:"pet pic"})),r.a.createElement("div",{className:"petDesc"},"Description: ",a),r.a.createElement("div",{className:"petName"},"Name: ",c),r.a.createElement("div",{className:"petGender"},"Gender: ",o),r.a.createElement("div",{className:"petAge"},"Age: ",t),r.a.createElement("div",{className:"petBreed"},"Breed: ",n),r.a.createElement("div",{className:"petStory"},"Story: ",i),this.renderAdoptButton())}}]),n}(a.Component),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.people;return r.a.createElement("ul",{className:"people"},e.map((function(e,t){return r.a.createElement("li",{key:t,className:"person"},r.a.createElement("div",null,e))})))}}]),n}(a.Component),v="https://protected-journey-38686.herokuapp.com",E=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_KEY,{getPeople:function(){return fetch("".concat(v,"/people"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getPets:function(){return fetch("".concat(v,"/pets"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postPerson:function(e){var t={name:e};return fetch("".concat(v,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.ok?Promise.resolve(""):e.json().then((function(e){return Promise.reject(e)}))}))},deletePerson:function(){return fetch("".concat(v,"/people"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?Promise.resolve(""):e.json().then((function(e){return Promise.reject(e)}))}))},deletePet:function(e){return fetch("".concat(v,"/pets"),{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify({type:e})}).then((function(e){return e.ok?Promise.resolve(""):e.json().then((function(e){return Promise.reject(e)}))}))}}),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={people:[],dogs:[],cats:[],currentUser:"",nextInLine:""},e.fakeUsers=["Imma Zero","Bob Zureunkle","Mary Jane","Fred Savage","Harry Potter"],e.adoptDogClick=function(t){"both"===t?e.adoptPet("both"):e.adoptPet("dogs")},e.adoptCatClick=function(t){"both"===t?e.adoptPet("both"):e.adoptPet("cats")},e.adoptPet=function(t){var n=e.state.people,a=e.state.cats,r=e.state.dogs;E.deletePet(t).then((function(){"cats"===t?a.shift():("dogs"===t||a.shift(),r.shift()),n.shift(),e.setState({people:n,cats:a,dogs:r,nextInLine:n[0],currentUser:""})}))},e.handleAddPerson=function(t){t.preventDefault();var n=t.target.name,a=e.state.people;E.postPerson(n.value).then((function(){a.push(n.value),e.setState({people:a,currentUser:n.value})}))},e}return Object(i.a)(n,[{key:"renderDogs",value:function(){var e=this.state.dogs;return e&&e.length?r.a.createElement(d,{details:e[0],canAdopt:this.state.nextInLine===this.state.currentUser?"true":"false",adoptionHandler:this.adoptDogClick}):null}},{key:"renderCats",value:function(){var e=this.state.cats;return e&&e.length?r.a.createElement(d,{details:e[0],canAdopt:this.state.nextInLine===this.state.currentUser?"true":"false",adoptionHandler:this.adoptCatClick}):null}},{key:"componentDidMount",value:function(){var e=this;E.getPeople().then((function(t){return e.setState({people:t})})),E.getPets().then((function(t){return e.setState({dogs:t.dogs,cats:t.cats})})),this.setState({nextInLine:this.state.people[0]}),setInterval((function(){e.handleIntervalTickEvent()}),5e3)}},{key:"handleIntervalTickEvent",value:function(){var e=this,t=this.state.people,n=this.state.cats,a=this.state.dogs,r=this.state.currentUser;if(this.state.nextInLine===r){if(t.length<5){var o=this.fakeUsers[t.length];E.postPerson(o).then((function(){t.push(o),e.setState({people:t})}))}}else if(t.length>0){var s=t.length%2===0?"cats":"dogs";E.deletePet(s).then((function(){"cats"===s?n.shift():a.shift(),t.shift(),e.setState({people:t,cats:n,dogs:a,nextInLine:t[0]})}))}}},{key:"render",value:function(){var e=this.state.people;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"petDetails"},this.renderDogs(),this.renderCats()),r.a.createElement("h2",null,"Adoption Line"),r.a.createElement(f,{people:e}),r.a.createElement("form",{className:"nameForm",onSubmit:this.handleAddPerson},r.a.createElement("label",{htmlFor:"adoptForm"},"Name:"),r.a.createElement("input",{name:"name",type:"text"}),r.a.createElement("button",{type:"submit"},"Get In Line")))}}]),n}(a.Component),g=n(9);var y=function(){return r.a.createElement("main",{className:"main"},r.a.createElement(p,null),r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:"/",component:m}),r.a.createElement(g.a,{path:"/adoption",component:b})))};s.a.render(r.a.createElement(h.a,null,r.a.createElement(y,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.62e7c4ed.chunk.js.map