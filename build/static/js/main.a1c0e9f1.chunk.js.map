{"version":3,"sources":["header/Header.js","landing/Landing.js","pets/Pets.js","people/People.js","config.js","services/adoption-api-service.js","adoptionPage/AdoptionPage.js","root/Root.js","index.js"],"names":["Header","className","Component","Landing","src","alt","to","type","Pets","canAdopt","this","props","adoptionHandler","onClick","details","age","breed","description","gender","imageURL","name","story","renderAdoptButton","People","people","map","person","idx","key","AdoptionService","process","REACT_APP_API_KEY","getPeople","fetch","config","headers","then","res","ok","json","e","Promise","reject","getPets","postPerson","newPerson","method","body","JSON","stringify","resolve","deletePerson","deletePet","petType","AdoptionPage","state","dogs","cats","currentUser","nextInLine","fakeUsers","adoptDogClick","option","adoptPet","adoptCatClick","shift","setState","handleAddPerson","ev","preventDefault","target","value","push","length","setInterval","handleIntervalTickEvent","rando","renderDogs","renderCats","onSubmit","htmlFor","Root","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a1c0e9f1.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport '../index.css'\r\n\r\nexport default class Header extends Component {\r\n  \r\n  render(){    \r\n    return (\r\n      <header className='header'>\r\n        <h1>Petful</h1>\r\n      </header>\r\n    )\r\n  }\r\n  \r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../index.css';\r\n\r\nexport default class Landing extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"landing\">\r\n        <section>\r\n          The adoption process works strictly on a \"First-In, First-Out\" basis.\r\n          The FIFO is based on the animals that came to the shelter first.\r\n          People can adopt a cat, or a dog, or both, but they may only adopt the\r\n          animal that came to the shelter first. In addition, people who want to\r\n          adopt are also put in a Queue so they can adopt when it's their turn.\r\n        </section>\r\n        <img\r\n          className=\"petImage\"\r\n          src=\"http://placekitten.com/300/300\"\r\n          alt=\"Landing Cat\"\r\n        />\r\n        <br />\r\n        <Link to=\"adoption\">\r\n          <button type=\"submit\">Start!</button>\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport '../index.css';\r\n\r\nexport default class Pets extends Component {\r\n  renderAdoptButton() {\r\n    const canAdopt = this.props.canAdopt;\r\n    const adoptionHandler = this.props.adoptionHandler;\r\n    if (canAdopt === 'true') {\r\n      return (\r\n        <div>\r\n          <button type=\"submit\" onClick={() => adoptionHandler()}>\r\n            Adopt Me!\r\n          </button>\r\n          <button type=\"submit\" onClick={() => adoptionHandler('both')}>\r\n            Adopt Both!\r\n          </button>\r\n        </div>\r\n      );\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      age,\r\n      breed,\r\n      description,\r\n      gender,\r\n      imageURL,\r\n      name,\r\n      story,\r\n    } = this.props.details;\r\n    return (\r\n      <article className=\"pet\">\r\n        <div className=\"petImage\">\r\n          <img className=\"petImage\" src={imageURL} alt=\"pet pic\" />\r\n        </div>\r\n        <div className=\"petDesc\">Description: {description}</div>\r\n        <div className=\"petName\">Name: {name}</div>\r\n        <div className=\"petGender\">Gender: {gender}</div>\r\n        <div className=\"petAge\">Age: {age}</div>\r\n        <div className=\"petBreed\">Breed: {breed}</div>\r\n        <div className=\"petStory\">Story: {story}</div>\r\n        {this.renderAdoptButton()}\r\n      </article>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport '../index.css'\r\n\r\nexport default class People extends Component {\r\n  render() {\r\n    const { people } = this.props\r\n    return (\r\n      <ul className='people'>\r\n        {people.map((person, idx) => (\r\n          <li key={idx} className='person'>\r\n            <div>{person}</div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    )\r\n  }\r\n\r\n}","export default {\r\n  API_ENDPOINT: 'https://protected-journey-38686.herokuapp.com/',\r\n  TOKEN_KEY: process.env.REACT_APP_API_KEY,\r\n};\r\n","import config from '../config';\r\n\r\nconst AdoptionService = {\r\n  getPeople() {\r\n    return fetch(`${config.API_ENDPOINT}/people`, {\r\n      headers: {},\r\n    }).then((res) =>\r\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json()\r\n    );\r\n  },\r\n\r\n  getPets() {\r\n    return fetch(`${config.API_ENDPOINT}/pets`, {\r\n      headers: {},\r\n    }).then((res) =>\r\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json()\r\n    );\r\n  },\r\n\r\n  postPerson(newPerson) {\r\n    const name = {\r\n      name: newPerson,\r\n    };\r\n    return fetch(`${config.API_ENDPOINT}/people`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify(name),\r\n    }).then((res) =>\r\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : Promise.resolve('')\r\n    );\r\n  },\r\n\r\n  deletePerson() {\r\n    return fetch(`${config.API_ENDPOINT}/people`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n      },\r\n    }).then((res) =>\r\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : Promise.resolve('')\r\n    );\r\n  },\r\n\r\n  deletePet(petType) {\r\n    return fetch(`${config.API_ENDPOINT}/pets`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ type: petType }),\r\n    }).then((res) =>\r\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : Promise.resolve('')\r\n    );\r\n  },\r\n};\r\n\r\nexport default AdoptionService;\r\n","import React, { Component } from 'react';\r\nimport Pets from '../pets/Pets';\r\nimport People from '../people/People';\r\nimport AdoptionService from '../services/adoption-api-service';\r\nimport '../index.css';\r\n\r\nexport default class AdoptionPage extends Component {\r\n  state = {\r\n    people: [],\r\n    dogs: [],\r\n    cats: [],\r\n    currentUser: '',\r\n    nextInLine: '',\r\n  };\r\n\r\n  fakeUsers = [\r\n    'Imma Zero',\r\n    'Bob Zureunkle',\r\n    'Mary Jane',\r\n    'Fred Savage',\r\n    'Harry Potter',\r\n  ];\r\n\r\n  renderDogs() {\r\n    const { dogs } = this.state;\r\n    if (!dogs || !dogs.length) {\r\n      return null;\r\n    }\r\n    return (\r\n      <Pets\r\n        details={dogs[0]}\r\n        canAdopt={\r\n          this.state.nextInLine === this.state.currentUser ? 'true' : 'false'\r\n        }\r\n        adoptionHandler={this.adoptDogClick}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Fixes mounting issue in a better fashion\r\n  renderCats() {\r\n    const { cats } = this.state;\r\n    if (!cats || !cats.length) {\r\n      return null;\r\n    }\r\n    return (\r\n      <Pets\r\n        details={cats[0]}\r\n        canAdopt={\r\n          this.state.nextInLine === this.state.currentUser ? 'true' : 'false'\r\n        }\r\n        adoptionHandler={this.adoptCatClick}\r\n      />\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    AdoptionService.getPeople().then((res) => this.setState({ people: res }));\r\n    AdoptionService.getPets().then((res) =>\r\n      this.setState({ dogs: res.dogs, cats: res.cats })\r\n    );\r\n\r\n    this.setState({ nextInLine: this.state.people[0] });\r\n\r\n    setInterval(() => {\r\n      this.handleIntervalTickEvent();\r\n    }, 5000);\r\n  }\r\n\r\n  // TODO implement adopt methods\r\n  adoptDogClick = (option) => {\r\n    if (option === 'both') {\r\n      this.adoptPet('both');\r\n    } else {\r\n      this.adoptPet('dogs');\r\n    }\r\n  };\r\n\r\n  adoptCatClick = (option) => {\r\n    if (option === 'both') {\r\n      this.adoptPet('both');\r\n    } else {\r\n      this.adoptPet('cats');\r\n    }\r\n  };\r\n\r\n  adoptPet = (type) => {\r\n    const people = this.state.people;\r\n    const cats = this.state.cats;\r\n    const dogs = this.state.dogs;\r\n\r\n    AdoptionService.deletePet(type).then(() => {\r\n      //deletes pet and person from server\r\n      //then deletes pet from appropriate local data pool to keep client/server in sync\r\n      if (type === 'cats') {\r\n        cats.shift();\r\n      } else if (type === 'dogs') {\r\n        dogs.shift();\r\n      } else {\r\n        cats.shift();\r\n        dogs.shift();\r\n      }\r\n      //then delete person from local data to keep client/server in sync\r\n      people.shift();\r\n      //    then update state with local data to force rerender to update view\r\n      this.setState({\r\n        people: people,\r\n        cats: cats,\r\n        dogs: dogs,\r\n        nextInLine: people[0],\r\n        currentUser: '',\r\n      });\r\n    });\r\n  };\r\n\r\n  handleAddPerson = (ev) => {\r\n    ev.preventDefault();\r\n    const { name } = ev.target;\r\n    const people = this.state.people;\r\n\r\n    AdoptionService.postPerson(name.value).then(() => {\r\n      people.push(name.value);\r\n      this.setState({ people: people, currentUser: name.value });\r\n    });\r\n  };\r\n\r\n  handleIntervalTickEvent() {\r\n    const people = this.state.people;\r\n    const cats = this.state.cats;\r\n    const dogs = this.state.dogs;\r\n\r\n    const currentUser = this.state.currentUser;\r\n    let nextInLine = this.state.nextInLine;\r\n\r\n    if (nextInLine === currentUser) {\r\n      if (people.length < 5) {\r\n        //add random person\r\n        const rando = this.fakeUsers[people.length];\r\n        AdoptionService.postPerson(rando).then(() => {\r\n          people.push(rando);\r\n          this.setState({ people: people });\r\n        });\r\n      }\r\n    } else if (people.length > 0) {\r\n      const petType = people.length % 2 === 0 ? 'cats' : 'dogs';\r\n      AdoptionService.deletePet(petType).then(() => {\r\n        //deletes pet and person from server\r\n        //then deletes pet from appropriate local data pool to keep client/server in sync\r\n        if (petType === 'cats') {\r\n          cats.shift();\r\n        } else {\r\n          dogs.shift();\r\n        }\r\n        //then delete person from local data to keep client/server in sync\r\n        people.shift();\r\n\r\n        this.setState({\r\n          people: people,\r\n          cats: cats,\r\n          dogs: dogs,\r\n          nextInLine: people[0],\r\n        }); //    then update state with local data to force rerender to update view\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { people } = this.state;\r\n    return (\r\n      <>\r\n        <section className=\"petDetails\">\r\n          {this.renderDogs()}\r\n          {this.renderCats()}\r\n        </section>\r\n        <h2>Adoption Line</h2>\r\n        <People people={people} />\r\n        <form className=\"nameForm\" onSubmit={this.handleAddPerson}>\r\n          <label htmlFor=\"adoptForm\">Name:</label>\r\n          <input name=\"name\" type=\"text\" />\r\n          <button type=\"submit\">Get In Line</button>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Header from '../header/Header';\r\nimport Landing from '../landing/Landing';\r\nimport AdoptionPage from '../adoptionPage/AdoptionPage'\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nfunction Root() {\r\n \r\n  return <main className='main'>\r\n    <Header/>\r\n    <Switch>\r\n      <Route exact path='/' component={Landing} />\r\n      <Route path='/adoption' component={AdoptionPage}/>\r\n    </Switch>\r\n  </main>\r\n}\r\n\r\nexport default Root\r\n","import './index.css'\r\n\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Root from './root/Root'\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Root />\r\n  </BrowserRouter>,\r\n  document.getElementById('root'))\r\n"],"sourceRoot":""}